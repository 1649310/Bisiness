window.ITVDN = {};

(function() {
  var me = {};

  me.isEmail = function(email) {
    var re = /^(|(([A-Za-z0-9]+_+)|([A-Za-z0-9]+\-+)|([A-Za-z0-9]+\.+)|([A-Za-z0-9]+\++))*[A-Za-z0-9]+@((\w+\-+)|(\w+\.))*\w{1,63}\.[a-zA-Z]{2,6})$/;
    return re.test(email);
  };

  me.isNumber = function(number) {
    var re = /^\d+$/;
    return re.test(number);
  };

  me.isNotEmpty = function(str) {
    return Boolean(str);
  };
  ITVDN.validation = me;
})();

(function() {
  var me = {};
  var form = document.querySelector(".form-container");
  var closeButton = null;

  function onClose() {
    me.close();
    closeButton.removeEventListener("click", onClose);
  }

  me.open = function() {
    form.classList.remove("is-hidden");

    closeButton = document.querySelector(".form__close-button");
    closeButton.addEventListener("click", onClose);
  };
  me.close = function() {
    form.classList.add("is-hidden");
  };

  me.isValid = function() {
    var requiredFields = document.querySelectorAll('[data-valid="required"]');
    var emailValue = document.querySelector("[data-email]").value;
    var numberValue = document.querySelector("[data-number").value;

    if (!me.isAllCompleted(requiredFields)) {
      console.log("Заполните пожалуйста все необходимые поля");
      return false;
    } else if (!ITVDN.validation.isEmail(emailValue)) {
      console.log("Не верный email");
      return false;
    } else if (!ITVDN.validation.isNumber(numberValue)) {
      console.log("Не верный номер");
      return false;
    }
    return true;
  };

  me.isAllCompleted = function(data) {
    var result = true;
    for (var i = 0; i < data.lenght; i++) {
      if (!ITVDN.validation.isNotEmpty(data[i].value)) {
        rusult = false;
        break;
      }
    }
    return result;
  };
  ITVDN.form = me;
})();


(function() {
  
  //Add event listener for open form button
  var openFormButton = document.querySelector(".arrow-down");
  var form = document.querySelector(".form");

  if (openFormButton) {
    openFormButton.addEventListener("click", function(e) {
      e.preventDefault();
      ITVDN.form.open();
    });
  }

  if (form) {
    form.addEventListener("submit", function(e) {
      e.preventDefault();
      if (ITVDN.form.isValid()) {
        console.log("All good");
      } else {
        console.log("Is not valid");
      }
    });
  }
})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXQuanMiLCJ2YWxpZGF0aW9uLmpzIiwiZm9ybS5qcyIsIm5hdmlnYXRpb24uanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsREE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5JVFZETiA9IHt9O1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgdmFyIG1lID0ge307XHJcblxyXG4gIG1lLmlzRW1haWwgPSBmdW5jdGlvbihlbWFpbCkge1xyXG4gICAgdmFyIHJlID0gL14ofCgoW0EtWmEtejAtOV0rXyspfChbQS1aYS16MC05XStcXC0rKXwoW0EtWmEtejAtOV0rXFwuKyl8KFtBLVphLXowLTldK1xcKyspKSpbQS1aYS16MC05XStAKChcXHcrXFwtKyl8KFxcdytcXC4pKSpcXHd7MSw2M31cXC5bYS16QS1aXXsyLDZ9KSQvO1xyXG4gICAgcmV0dXJuIHJlLnRlc3QoZW1haWwpO1xyXG4gIH07XHJcblxyXG4gIG1lLmlzTnVtYmVyID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICB2YXIgcmUgPSAvXlxcZCskLztcclxuICAgIHJldHVybiByZS50ZXN0KG51bWJlcik7XHJcbiAgfTtcclxuXHJcbiAgbWUuaXNOb3RFbXB0eSA9IGZ1bmN0aW9uKHN0cikge1xyXG4gICAgcmV0dXJuIEJvb2xlYW4oc3RyKTtcclxuICB9O1xyXG4gIElUVkROLnZhbGlkYXRpb24gPSBtZTtcclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBtZSA9IHt9O1xyXG4gIHZhciBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWNvbnRhaW5lclwiKTtcclxuICB2YXIgY2xvc2VCdXR0b24gPSBudWxsO1xyXG5cclxuICBmdW5jdGlvbiBvbkNsb3NlKCkge1xyXG4gICAgbWUuY2xvc2UoKTtcclxuICAgIGNsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNsb3NlKTtcclxuICB9XHJcblxyXG4gIG1lLm9wZW4gPSBmdW5jdGlvbigpIHtcclxuICAgIGZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImlzLWhpZGRlblwiKTtcclxuXHJcbiAgICBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fY2xvc2UtYnV0dG9uXCIpO1xyXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2xvc2UpO1xyXG4gIH07XHJcbiAgbWUuY2xvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgIGZvcm0uY2xhc3NMaXN0LmFkZChcImlzLWhpZGRlblwiKTtcclxuICB9O1xyXG5cclxuICBtZS5pc1ZhbGlkID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcmVxdWlyZWRGaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12YWxpZD1cInJlcXVpcmVkXCJdJyk7XHJcbiAgICB2YXIgZW1haWxWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1lbWFpbF1cIikudmFsdWU7XHJcbiAgICB2YXIgbnVtYmVyVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtbnVtYmVyXCIpLnZhbHVlO1xyXG5cclxuICAgIGlmICghbWUuaXNBbGxDb21wbGV0ZWQocmVxdWlyZWRGaWVsZHMpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwi0JfQsNC/0L7Qu9C90LjRgtC1INC/0L7QttCw0LvRg9C50YHRgtCwINCy0YHQtSDQvdC10L7QsdGF0L7QtNC40LzRi9C1INC/0L7Qu9GPXCIpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGVsc2UgaWYgKCFJVFZETi52YWxpZGF0aW9uLmlzRW1haWwoZW1haWxWYWx1ZSkpIHtcclxuICAgICAgY29uc29sZS5sb2coXCLQndC1INCy0LXRgNC90YvQuSBlbWFpbFwiKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBlbHNlIGlmICghSVRWRE4udmFsaWRhdGlvbi5pc051bWJlcihudW1iZXJWYWx1ZSkpIHtcclxuICAgICAgY29uc29sZS5sb2coXCLQndC1INCy0LXRgNC90YvQuSDQvdC+0LzQtdGAXCIpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG5cclxuICBtZS5pc0FsbENvbXBsZXRlZCA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmdodDsgaSsrKSB7XHJcbiAgICAgIGlmICghSVRWRE4udmFsaWRhdGlvbi5pc05vdEVtcHR5KGRhdGFbaV0udmFsdWUpKSB7XHJcbiAgICAgICAgcnVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuICBJVFZETi5mb3JtID0gbWU7XHJcbn0pKCk7XHJcbiIsIiIsIihmdW5jdGlvbigpIHtcclxuICBcclxuICAvL0FkZCBldmVudCBsaXN0ZW5lciBmb3Igb3BlbiBmb3JtIGJ1dHRvblxyXG4gIHZhciBvcGVuRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctZG93blwiKTtcclxuICB2YXIgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuXHJcbiAgaWYgKG9wZW5Gb3JtQnV0dG9uKSB7XHJcbiAgICBvcGVuRm9ybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIElUVkROLmZvcm0ub3BlbigpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoZm9ybSkge1xyXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpZiAoSVRWRE4uZm9ybS5pc1ZhbGlkKCkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkFsbCBnb29kXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSXMgbm90IHZhbGlkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn0pKCk7XHJcbiJdfQ==
