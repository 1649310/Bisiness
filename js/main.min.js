window.ITVDN = {};

(function() {
  var me = {};

  me.isEmail = function(email) {
    var re = /^(|(([A-Za-z0-9]+_+)|([A-Za-z0-9]+\-+)|([A-Za-z0-9]+\.+)|([A-Za-z0-9]+\++))*[A-Za-z0-9]+@((\w+\-+)|(\w+\.))*\w{1,63}\.[a-zA-Z]{2,6})$/;
    return re.test(email);
  };

  me.isNumber = function(number) {
    var re = /^\d+$/;
    return re.test(number);
  };

  me.isNotEmpty = function(str) {
    return Boolean(str);
  };
  ITVDN.validation = me;
})();

(function() {
  var me = {};
  var form = document.querySelector(".form-container");
  var closeButton = null;

  function onClose() {
    me.close();
    closeButton.removeEventListener("click", onClose);
  }

  me.open = function() {
    form.classList.remove("is-hidden");

    closeButton = document.querySelector(".form__close-button");
    closeButton.addEventListener("click", onClose);
  };
  me.close = function() {
    form.classList.add("is-hidden");
  };

  me.isValid = function() {
    var requiredFields = document.querySelectorAll('[data-valid="required"]');
    var emailValue = document.querySelector("[data-email]").value;
    var numberValue = document.querySelector("[data-number").value;

    if (!me.isAllCompleted(requiredFields)) {
      console.log("Заполните пожалуйста все необходимые поля");
      return false;
    } else if (!ITVDN.validation.isEmail(emailValue)) {
      alert("Не верный email");
      return false;
    } else if (!ITVDN.validation.isNumber(numberValue)) {
      console.log("Не верный номер");
      return false;
    }
    return true;
  };

  me.isAllCompleted = function(data) {
    var result = true;
    for (var i = 0; i < data.lenght; i++) {
      if (!ITVDN.validation.isNotEmpty(data[i].value)) {
        rusult = false;
        break;
      }
    }
    return result;
  };
  ITVDN.form = me;
})();

(function() {
  var me = {};

  me.toggleToActiveLink = function(target) {
    var links = document.querySelectorAll(".nav__link");
    var showedSection = target.dataset.link;

    for (var i = 0; i < links.length; i++) {
      if (links[i].classList.contains("nav__link--active")) {
        links[i].classList.remove("nav__link--active");
      }
    }
    target.classList.add("nav__link--active");
    scrollToActiveSection(showedSection);
  };

  function scrollToActiveSection(showedSection) {
    var section = document.querySelector("." + showedSection);
    var coords = section.getBoundingClientRect();

    while (document.body.scrollTop < coords.top) {
      window.scrollBy(0, 1);
    }
  }

  ITVDN.navigation = me;
})();

(function() {
  //Add event listener for open form button
  var openFormButton = document.querySelector(".arrow-down");
  var form = document.querySelector(".form");
  var nav = document.querySelector(".nav");

  if (openFormButton) {
    openFormButton.addEventListener("click", function(e) {
      e.preventDefault();
      ITVDN.form.open();
    });
  }

  if (form) {
    form.addEventListener("submit", function(e) {
      e.preventDefault();
      if (ITVDN.form.isValid()) {
        console.log("All good");
      } else {
        console.log("Is not valid");
      }
    });
  }
  if (nav) {
    nav.addEventListener("click", function(e) {
      var target = e.target;

      if (target.tagName.toLowerCase() !== "a") {
        return;
      }

      e.preventDefault();
      ITVDN.navigation.toggleToActiveLink(target);
    });
  }
})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXQuanMiLCJ2YWxpZGF0aW9uLmpzIiwiZm9ybS5qcyIsIm5hdmlnYXRpb24uanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuSVRWRE4gPSB7fTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBtZSA9IHt9O1xyXG5cclxuICBtZS5pc0VtYWlsID0gZnVuY3Rpb24oZW1haWwpIHtcclxuICAgIHZhciByZSA9IC9eKHwoKFtBLVphLXowLTldK18rKXwoW0EtWmEtejAtOV0rXFwtKyl8KFtBLVphLXowLTldK1xcLispfChbQS1aYS16MC05XStcXCsrKSkqW0EtWmEtejAtOV0rQCgoXFx3K1xcLSspfChcXHcrXFwuKSkqXFx3ezEsNjN9XFwuW2EtekEtWl17Miw2fSkkLztcclxuICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTtcclxuICB9O1xyXG5cclxuICBtZS5pc051bWJlciA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgdmFyIHJlID0gL15cXGQrJC87XHJcbiAgICByZXR1cm4gcmUudGVzdChudW1iZXIpO1xyXG4gIH07XHJcblxyXG4gIG1lLmlzTm90RW1wdHkgPSBmdW5jdGlvbihzdHIpIHtcclxuICAgIHJldHVybiBCb29sZWFuKHN0cik7XHJcbiAgfTtcclxuICBJVFZETi52YWxpZGF0aW9uID0gbWU7XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICB2YXIgbWUgPSB7fTtcclxuICB2YXIgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1jb250YWluZXJcIik7XHJcbiAgdmFyIGNsb3NlQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgZnVuY3Rpb24gb25DbG9zZSgpIHtcclxuICAgIG1lLmNsb3NlKCk7XHJcbiAgICBjbG9zZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25DbG9zZSk7XHJcbiAgfVxyXG5cclxuICBtZS5vcGVuID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1oaWRkZW5cIik7XHJcblxyXG4gICAgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2Nsb3NlLWJ1dHRvblwiKTtcclxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNsb3NlKTtcclxuICB9O1xyXG4gIG1lLmNsb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmb3JtLmNsYXNzTGlzdC5hZGQoXCJpcy1oaWRkZW5cIik7XHJcbiAgfTtcclxuXHJcbiAgbWUuaXNWYWxpZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHJlcXVpcmVkRmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdmFsaWQ9XCJyZXF1aXJlZFwiXScpO1xyXG4gICAgdmFyIGVtYWlsVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZW1haWxdXCIpLnZhbHVlO1xyXG4gICAgdmFyIG51bWJlclZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLW51bWJlclwiKS52YWx1ZTtcclxuXHJcbiAgICBpZiAoIW1lLmlzQWxsQ29tcGxldGVkKHJlcXVpcmVkRmllbGRzKSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcItCX0LDQv9C+0LvQvdC40YLQtSDQv9C+0LbQsNC70YPQudGB0YLQsCDQstGB0LUg0L3QtdC+0LHRhdC+0LTQuNC80YvQtSDQv9C+0LvRj1wiKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBlbHNlIGlmICghSVRWRE4udmFsaWRhdGlvbi5pc0VtYWlsKGVtYWlsVmFsdWUpKSB7XHJcbiAgICAgIGFsZXJ0KFwi0J3QtSDQstC10YDQvdGL0LkgZW1haWxcIik7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gZWxzZSBpZiAoIUlUVkROLnZhbGlkYXRpb24uaXNOdW1iZXIobnVtYmVyVmFsdWUpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwi0J3QtSDQstC10YDQvdGL0Lkg0L3QvtC80LXRgFwiKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgbWUuaXNBbGxDb21wbGV0ZWQgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5naHQ7IGkrKykge1xyXG4gICAgICBpZiAoIUlUVkROLnZhbGlkYXRpb24uaXNOb3RFbXB0eShkYXRhW2ldLnZhbHVlKSkge1xyXG4gICAgICAgIHJ1c3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH07XHJcbiAgSVRWRE4uZm9ybSA9IG1lO1xyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgdmFyIG1lID0ge307XHJcblxyXG4gIG1lLnRvZ2dsZVRvQWN0aXZlTGluayA9IGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgdmFyIGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpbmtcIik7XHJcbiAgICB2YXIgc2hvd2VkU2VjdGlvbiA9IHRhcmdldC5kYXRhc2V0Lmxpbms7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAobGlua3NbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwibmF2X19saW5rLS1hY3RpdmVcIikpIHtcclxuICAgICAgICBsaW5rc1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwibmF2X19saW5rLS1hY3RpdmVcIik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKFwibmF2X19saW5rLS1hY3RpdmVcIik7XHJcbiAgICBzY3JvbGxUb0FjdGl2ZVNlY3Rpb24oc2hvd2VkU2VjdGlvbik7XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gc2Nyb2xsVG9BY3RpdmVTZWN0aW9uKHNob3dlZFNlY3Rpb24pIHtcclxuICAgIHZhciBzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5cIiArIHNob3dlZFNlY3Rpb24pO1xyXG4gICAgdmFyIGNvb3JkcyA9IHNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgd2hpbGUgKGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIDwgY29vcmRzLnRvcCkge1xyXG4gICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBJVFZETi5uYXZpZ2F0aW9uID0gbWU7XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAvL0FkZCBldmVudCBsaXN0ZW5lciBmb3Igb3BlbiBmb3JtIGJ1dHRvblxyXG4gIHZhciBvcGVuRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctZG93blwiKTtcclxuICB2YXIgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICB2YXIgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcblxyXG4gIGlmIChvcGVuRm9ybUJ1dHRvbikge1xyXG4gICAgb3BlbkZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBJVFZETi5mb3JtLm9wZW4oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGZvcm0pIHtcclxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgaWYgKElUVkROLmZvcm0uaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJBbGwgZ29vZFwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIklzIG5vdCB2YWxpZFwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGlmIChuYXYpIHtcclxuICAgIG5hdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcblxyXG4gICAgICBpZiAodGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJhXCIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgSVRWRE4ubmF2aWdhdGlvbi50b2dnbGVUb0FjdGl2ZUxpbmsodGFyZ2V0KTtcclxuICAgIH0pO1xyXG4gIH1cclxufSkoKTtcclxuIl19
